_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[48],{"43Cr":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tasks/[pid]",function(){return r("wO3X")}])},"9ONQ":function(e,t,r){"use strict";var n=r("iVi/");function a(e,t){void 0===t&&(t={});var r=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(r,t.doNotParse))try{return JSON.parse(r)}catch(n){}return e}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(){function e(e,t){var r=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?n.parse(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){r.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=n.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,r){return void 0===t&&(t={}),this._updateBrowserValues(r),a(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var r={};for(var n in this.cookies)r[n]=a(this.cookies[n],e);return r},e.prototype.set=function(e,t,r){var a;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=o(o({},this.cookies),((a={})[e]=t,a)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.serialize(e,t,r)),this._emitChange({name:e,value:t,options:r})},e.prototype.remove=function(e,t){var r=t=o(o({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=o({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.serialize(e,"",r)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();t.a=i},HQEm:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(n=r("Sj0X"))&&n.__esModule?n:{default:n};t.default=a,e.exports=a},Sj0X:function(e,t,r){"use strict";var n=r("TqRt"),a=r("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r("q1tI")),i=n(r("XuBP")),c=n(r("KQxl")),s=function(e,t){return o.createElement(c.default,Object.assign({},e,{ref:t,icon:i.default}))};s.displayName="DownOutlined";var u=o.forwardRef(s);t.default=u},XBQK:function(e,t,r){"use strict";var n=r("pVnL"),a=r.n(n),o=r("lSNA"),i=r.n(o),c=r("q1tI"),s=r("eDIo"),u=r("TSYQ"),l=r.n(u),p=r("fEPi"),f=r.n(p),d=r("J4zp"),m=r.n(d),h=r("cCPh"),b=r.n(h),v=r("2/Rp"),g=r("H84U"),y=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},O=v.a.Group,w=function(e){var t=c.useContext(g.b),r=t.getPopupContainer,n=t.getPrefixCls,o=t.direction,i=e.prefixCls,s=e.type,u=e.disabled,p=e.onClick,f=e.htmlType,d=e.children,h=e.className,w=e.overlay,x=e.trigger,E=e.align,C=e.visible,_=e.onVisibleChange,j=e.placement,k=e.getPopupContainer,P=e.href,N=e.icon,T=void 0===N?c.createElement(b.a,null):N,R=e.title,A=e.buttonsRender,M=y(e,["prefixCls","type","disabled","onClick","htmlType","children","className","overlay","trigger","align","visible","onVisibleChange","placement","getPopupContainer","href","icon","title","buttonsRender"]),B=n("dropdown-button",i),D={align:E,overlay:w,disabled:u,trigger:u?[]:x,onVisibleChange:_,getPopupContainer:k||r};"visible"in e&&(D.visible=C),D.placement="placement"in e?j:"rtl"===o?"bottomLeft":"bottomRight";var I=A([c.createElement(v.a,{type:s,disabled:u,onClick:p,htmlType:f,href:P,title:R},d),c.createElement(v.a,{type:s,icon:T})]),H=m()(I,2),L=H[0],U=H[1];return c.createElement(O,a()({},M,{className:l()(B,h)}),L,c.createElement(S,D,U))};w.__ANT_BUTTON=!0,w.defaultProps={type:"default",buttonsRender:function(e){return e}};var x=w,E=r("uaoM"),C=r("CWQg"),_=r("0n0R"),j=(Object(C.a)("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight"),function(e){var t,r=c.useContext(g.b),n=r.getPopupContainer,o=r.getPrefixCls,u=r.direction,p=e.arrow,d=e.prefixCls,m=e.children,h=e.trigger,b=e.disabled,v=e.getPopupContainer,y=e.overlayClassName,O=o("dropdown",d),w=c.Children.only(m),x=Object(_.a)(w,{className:l()("".concat(O,"-trigger"),i()({},"".concat(O,"-rtl"),"rtl"===u),w.props.className),disabled:b}),C=l()(y,i()({},"".concat(O,"-rtl"),"rtl"===u)),j=b?[]:h;return j&&-1!==j.indexOf("contextMenu")&&(t=!0),c.createElement(s.a,a()({arrow:p,alignPoint:t},e,{overlayClassName:C,prefixCls:O,getPopupContainer:v||n,transitionName:function(){var t=e.placement,r=void 0===t?"":t,n=e.transitionName;return void 0!==n?n:r.indexOf("top")>=0?"slide-down":"slide-up"}(),trigger:j,overlay:function(){return function(t){var r,n=e.overlay;r="function"===typeof n?n():n;var a=(r=c.Children.only("string"===typeof r?c.createElement("span",null,r):r)).props;Object(E.a)(!a.mode||"vertical"===a.mode,"Dropdown",'mode="'.concat(a.mode,"\" is not supported for Dropdown's Menu."));var o=a.selectable,i=void 0!==o&&o,s=a.focusable,u=void 0===s||s,l=c.createElement("span",{className:"".concat(t,"-menu-submenu-arrow")},c.createElement(f.a,{className:"".concat(t,"-menu-submenu-arrow-icon")}));return"string"===typeof r.type?r:Object(_.a)(r,{mode:"vertical",selectable:i,focusable:u,expandIcon:l})}(O)},placement:function(){var t=e.placement;return void 0!==t?t:"rtl"===u?"bottomRight":"bottomLeft"}()}),x)});j.Button=x,j.defaultProps={mouseEnterDelay:.15,mouseLeaveDelay:.1};var S=t.a=j},XuBP:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"}},bE4q:function(e,t,r){"use strict";var n=r("pVnL"),a=r.n(n),o=r("lSNA"),i=r.n(o),c=r("RIqP"),s=r.n(c),u=r("q1tI"),l=r("TSYQ"),p=r.n(l),f=r("Zm9Q"),d=r("HQEm"),m=r.n(d),h=r("XBQK"),b=r("H84U"),v=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},g=function(e){var t,r,n=e.prefixCls,o=e.separator,i=void 0===o?"/":o,c=e.children,s=e.overlay,l=e.dropdownProps,p=v(e,["prefixCls","separator","children","overlay","dropdownProps"]),f=(0,u.useContext(b.b).getPrefixCls)("breadcrumb",n);return t="href"in p?u.createElement("a",a()({className:"".concat(f,"-link")},p),c):u.createElement("span",a()({className:"".concat(f,"-link")},p),c),r=t,t=s?u.createElement(h.a,a()({overlay:s,placement:"bottomCenter"},l),u.createElement("span",{className:"".concat(f,"-overlay-link")},r,u.createElement(m.a,null))):r,c?u.createElement("span",null,t,i&&""!==i&&u.createElement("span",{className:"".concat(f,"-separator")},i)):null};g.__ANT_BREADCRUMB_ITEM=!0;var y=g,O=function(e){var t=e.children,r=(0,u.useContext(b.b).getPrefixCls)("breadcrumb");return u.createElement("span",{className:"".concat(r,"-separator")},t||"/")};O.__ANT_BREADCRUMB_SEPARATOR=!0;var w=O,x=r("BvKs"),E=r("uaoM"),C=r("0n0R"),_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};function j(e,t,r,n){var a=r.indexOf(e)===r.length-1,o=function(e,t){if(!e.breadcrumbName)return null;var r=Object.keys(t).join("|");return e.breadcrumbName.replace(new RegExp(":(".concat(r,")"),"g"),(function(e,r){return t[r]||e}))}(e,t);return a?u.createElement("span",null,o):u.createElement("a",{href:"#/".concat(n.join("/"))},o)}var S=function(e,t){return e=(e||"").replace(/^\//,""),Object.keys(t).forEach((function(r){e=e.replace(":".concat(r),t[r])})),e},k=function(e){var t,r=e.prefixCls,n=e.separator,o=void 0===n?"/":n,c=e.style,l=e.className,d=e.routes,m=e.children,h=e.itemRender,v=void 0===h?j:h,g=e.params,O=void 0===g?{}:g,w=_(e,["prefixCls","separator","style","className","routes","children","itemRender","params"]),k=u.useContext(b.b),P=k.getPrefixCls,N=k.direction,T=P("breadcrumb",r);if(d&&d.length>0){var R=[];t=d.map((function(e){var t,r=S(e.path,O);return r&&R.push(r),e.children&&e.children.length&&(t=u.createElement(x.a,null,e.children.map((function(e){return u.createElement(x.a.Item,{key:e.path||e.breadcrumbName},v(e,O,d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=s()(e),a=S(t,r);return a&&n.push(a),n}(R,e.path,O)))})))),u.createElement(y,{overlay:t,separator:o,key:r||e.breadcrumbName},v(e,O,d,R))}))}else m&&(t=Object(f.a)(m).map((function(e,t){return e?(Object(E.a)(e.type&&(!0===e.type.__ANT_BREADCRUMB_ITEM||!0===e.type.__ANT_BREADCRUMB_SEPARATOR),"Breadcrumb","Only accepts Breadcrumb.Item and Breadcrumb.Separator as it's children"),Object(C.a)(e,{separator:o,key:t})):e})));var A=p()(T,i()({},"".concat(T,"-rtl"),"rtl"===N),l);return u.createElement("div",a()({className:A,style:c},w),t)};k.Item=y,k.Separator=w;var P=k;t.a=P},"iVi/":function(e,t,r){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var r={},a=t||{},i=e.split(o),s=a.decode||n,u=0;u<i.length;u++){var l=i[u],p=l.indexOf("=");if(!(p<0)){var f=l.substr(0,p).trim(),d=l.substr(++p,l.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==r[f]&&(r[f]=c(d,s))}}return r},t.serialize=function(e,t,r){var n=r||{},o=n.encode||a;if("function"!==typeof o)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var c=o(t);if(c&&!i.test(c))throw new TypeError("argument val is invalid");var s=e+"="+c;if(null!=n.maxAge){var u=n.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(u)}if(n.domain){if(!i.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!i.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if("function"!==typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}n.httpOnly&&(s+="; HttpOnly");n.secure&&(s+="; Secure");if(n.sameSite){switch("string"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s};var n=decodeURIComponent,a=encodeURIComponent,o=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function c(e,t){try{return t(e)}catch(r){return e}}},kMCw:function(e,t,r){"use strict";t.a={timeformat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",r=new Date(e),n=r.getFullYear(),a=r.getMonth()+1,o=r.getDate(),i=r.getHours(),c=r.getMinutes(),s=r.getSeconds();return n+t+a.toString().padStart(2,"0")+t+o.toString().padStart(2,"0")+" "+i.toString().padStart(2,"0")+":"+c.toString().padStart(2,"0")+":"+s.toString().padStart(2,"0")}}},tGG3:function(e,t,r){"use strict";var n=r("o0o1"),a=r.n(n),o=r("HaE+"),i=r("tsqr"),c=r("nOHt"),s=r.n(c),u=r("9ONQ"),l=function(){var e=Object(o.a)(a.a.mark((function e(){var t,r,n,c,l,p,f,d,m,h=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]?h[0]:"GET",r=h.length>1&&void 0!==h[1]?h[1]:"",n=h.length>2&&void 0!==h[2]?h[2]:null,c=h.length>3&&void 0!==h[3]?h[3]:function(){return nul},l=!(h.length>4&&void 0!==h[4])||h[4],p="".concat("http://mxh.md1927.com","/api").concat(r),f={"Content-Type":"application/json",Accept:"application/json"},!l){e.next=14;break}return d=new u.a,e.next=11,d.get("access");case 11:m=e.sent,f.Authorization="Bearer "+m;case 14:fetch(p,{method:t,headers:f,body:n?JSON.stringify(n):null}).then(function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=11;break}if(401!==t.status){e.next=5;break}s.a.push("/login"),e.next=10;break;case 5:if(!(t.status>=500)){e.next=9;break}i.b.error(t.message||"\u670d\u52a1\u5668\u9519\u8bef: ".concat(t.status)),e.next=10;break;case 9:return e.abrupt("return",t);case 10:throw Error(t.statusText);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return e.json()})).then((function(e){return e.message&&i.b.error(e.message),e})).then((function(e){c(e)})).catch((function(e){console.error("\u8bf7\u6c42\u5931\u8d25: ",e),c({data:null})}));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.a=l},wO3X:function(e,t,r){"use strict";r.r(t);var n=r("rePB"),a=r("o0o1"),o=r.n(a),i=r("HaE+"),c=r("q1tI"),s=r.n(c),u=r("HdoS"),l=r("nOHt"),p=r("tGG3"),f=r("kMCw"),d=r("tsqr"),m=r("bE4q"),h=r("BMrR"),b=r("kPKH"),v=r("5rEg"),g=r("2/Rp"),y=s.a.createElement;function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(){var e=Object(c.useState)({title:"",type:"",status:"",updated_at:new Date,created_at:new Date}),t=e[0],r=e[1],a=Object(l.useRouter)(),s=a.query.pid;Object(c.useEffect)((function(){O()}),[s]);var O=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&"created"!==s){e.next=2;break}return e.abrupt("return");case 2:Object(p.a)("GET","/tasks/".concat(s),null,(function(e){e._id&&r(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e,a){var o=w(w({},t),{},Object(n.a)({},a,e));r(o)},E=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(p.a)("POST","/tasks/",t,(function(e){e._id?(d.b.success("\u4fdd\u5b58\u6210\u529f"),a.back()):d.b.error(e.message||"\u521b\u5efa\u5931\u8d25")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(p.a)("PATCH","/tasks/".concat(s),t,(function(e){e.modifiedCount?(d.b.success("\u4fdd\u5b58\u6210\u529f"),a.back()):d.b.error(e.message||"\u4fee\u6539\u5931\u8d25")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return y(u.a,null,y(m.a,{style:{paddingBottom:16}},y(m.a.Item,null,y("a",{href:"/"},"\u9996\u9875")),y(m.a.Item,null,y("a",{href:"/tasks"},"\u4efb\u52a1")),y(m.a.Item,null,"created"===s?"\u6dfb\u52a0":"\u7f16\u8f91")),y(h.a,{gutter:[8,16]},y(b.a,{xs:4,style:{lineHeight:"32px"}},"\u6807\u9898"),y(b.a,{xs:24,sm:16},y(v.a,{onChange:function(e){return x(e.target.value,"title")},value:t.title}))),y(h.a,{gutter:[8,16]},y(b.a,{xs:4,style:{lineHeight:"32px"}},"\u7c7b\u522b"),y(b.a,{xs:24,sm:16},y(v.a,{onChange:function(e){return x(e.target.value,"type")},value:t.type}))),y(h.a,{gutter:[8,16]},y(b.a,{xs:4,style:{lineHeight:"32px"}},"\u72b6\u6001"),y(b.a,{xs:24,sm:16},y(v.a,{onChange:function(e){return x(e.target.value,"status")},value:t.status}))),"created"!==s&&y(h.a,{gutter:[8,16]},y(b.a,{xs:4},"\u521b\u5efa\u65f6\u95f4"),y(b.a,{xs:24,sm:14,flex:1},y(v.a,{value:f.a.timeformat(t.created_at),disabled:!0}))),"created"!==s&&y(h.a,{gutter:[8,16]},y(b.a,{xs:4,style:{lineHeight:"32px"}},"\u4fee\u6539\u65f6\u95f4"),y(b.a,{xs:24,sm:14},y(v.a,{value:f.a.timeformat(t.updated_at?t.updated_at:t.created_at),disabled:!0}))),y(h.a,{gutter:[8,16]},y(g.a,{type:"primary",disabled:!t.title,style:{marginTop:30},onClick:t._id?C:E},"\u4fdd\u5b58")))}}},[["43Cr",0,1,2,4,3,5,6,7,10,9,8,11]]]);