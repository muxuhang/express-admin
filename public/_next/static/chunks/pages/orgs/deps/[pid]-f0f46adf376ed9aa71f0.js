_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[41],{I1pi:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orgs/deps/[pid]",function(){return r("afOq")}])},afOq:function(e,t,r){"use strict";r.r(t);var n=r("rePB"),a=r("o0o1"),c=r.n(a),s=r("HaE+"),o=r("q1tI"),u=r.n(o),i=r("HdoS"),p=r("nOHt"),f=r("tGG3"),b=(r("kMCw"),r("tsqr")),l=r("bE4q"),d=r("BMrR"),O=r("kPKH"),g=r("5rEg"),m=r("2/Rp"),w=(r("UYf5"),u.a.createElement);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(){var e=Object(o.useState)({name:"",desc:""}),t=e[0],r=e[1],a=Object(p.useRouter)(),u=a.query.pid;Object(o.useEffect)((function(){j()}),[u]);var j=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&"created"!==u){e.next=2;break}return e.abrupt("return");case 2:Object(f.a)("GET","/orgs/deps/".concat(u),null,(function(e){r(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e,a){var c=y(y({},t),{},Object(n.a)({},a,e));r(c)},h=function(){var e=Object(s.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={name:t.name,desc:t.desc},Object(f.a)("POST","/orgs/deps/",r,(function(e){e._id?(b.b.success("\u4fdd\u5b58\u6210\u529f"),a.back()):b.b.error(e.message||"\u521b\u5efa\u5931\u8d25")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(s.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={name:t.name,desc:t.desc},Object(f.a)("PUT","/orgs/deps/".concat(u),r,(function(e){e._id?(b.b.success("\u4fdd\u5b58\u6210\u529f"),a.back()):b.b.error(e.message||"\u4fee\u6539\u5931\u8d25")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return w(i.a,null,w(l.a,{style:{paddingBottom:16}},w(l.a.Item,null,w("a",{href:"/"},"\u9996\u9875")),w(l.a.Item,null,w("a",{href:"/orgs/deps"},"\u91cd\u70b9\u5de5\u4f5c")),w(l.a.Item,null,"created"===u?"\u6dfb\u52a0":"\u7f16\u8f91")),w(d.a,{gutter:[8,16]},w(O.a,{xs:4,style:{lineHeight:"32px"}},"\u90e8\u95e8"),w(O.a,{xs:24,sm:14},w(g.a,{onChange:function(e){return v(e.target.value,"name")},value:t.name}))),w(d.a,{gutter:[8,16]},w(O.a,{xs:4,style:{lineHeight:"32px"}},"\u63cf\u8ff0"),w(O.a,{xs:24,sm:14},w(g.a,{onChange:function(e){return v(e.target.value,"desc")},value:t.desc}))),w(d.a,{gutter:[8,16]},w(m.a,{type:"primary",style:{marginTop:30},onClick:t._id?_:h},"\u4fdd\u5b58")))}}},[["I1pi",0,1,2,4,3,5,6,7,10,9,8,11,19]]]);