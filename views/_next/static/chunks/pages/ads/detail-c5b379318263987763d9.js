_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[28],{Yotb:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ads/detail",function(){return r("fHCF")}])},fHCF:function(e,t,r){"use strict";r.r(t);var a=r("wx14"),n=r("rePB"),c=r("o0o1"),o=r.n(c),u=r("HaE+"),i=r("q1tI"),s=r.n(i),l=(r("nOHt"),r("tGG3")),f=r("kMCw"),b=r("tsqr"),p=r("BMrR"),d=r("kPKH"),g=r("5rEg"),m=r("1GRj"),O=s.a.createElement;function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=Object(i.useState)({collection:"",image:"",title:"",url:""}),r=t[0],c=t[1],s=e.pid,v=e.save;Object(i.useEffect)((function(){c({collection:"",image:"",title:"",url:""}),w()}),[s]),Object(i.useEffect)((function(){v>0&&("created"===s?h():y())}),[v]);var w=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&"created"!==s){e.next=2;break}return e.abrupt("return");case 2:Object(l.a)("GET","/ads/admin/".concat(s),null,(function(e){c(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e,t){var a=j(j({},r),{},Object(n.a)({},t,e));c(a)},h=function(){var t=Object(u.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a=r).image&&a.collection){t.next=4;break}return b.b.info("\u6807\u7b7e\u548c\u56fe\u7247\u5fc5\u4f20"),t.abrupt("return");case 4:Object(l.a)("POST","/ads/admin",a,(function(t){t._id?(b.b.success("\u521b\u5efa\u6210\u529f"),e.closeModal()):b.b.error(t.message||"\u521b\u5efa\u5931\u8d25")}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(u.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r,Object(l.a)("PUT","/ads/admin/".concat(s),a,(function(t){t._id?(b.b.success("\u4fee\u6539\u6210\u529f"),e.closeModal()):b.b.error(t.message||"\u4fee\u6539\u5931\u8d25")}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return O("div",Object(a.a)({onClick:function(){return console.log(1)}},e),O(p.a,{gutter:[8,16]},O(d.a,{xs:4},"\u6807\u7b7e"),O(d.a,{xs:24,sm:14},O(g.a,{onChange:function(e){return x(e.target.value,"collection")},value:r.collection}))),O(p.a,{gutter:[8,16]},O(d.a,{xs:4},"\u6807\u9898"),O(d.a,{xs:24,sm:14},O(g.a,{onChange:function(e){return x(e.target.value,"title")},value:r.title}))),O(p.a,{gutter:[8,16]},O(d.a,{xs:4},"\u56fe\u7247"),O(d.a,{xs:24,sm:14},O(m.a,{src:r.image,style:{maxWidth:300,marginBottom:16},alt:""}),O(g.a,{onChange:function(e){return x(e.target.value,"image")},value:r.image}))),O(p.a,{gutter:[8,16]},O(d.a,{xs:4},"\u94fe\u63a5"),O(d.a,{xs:24,sm:14},O(g.a,{onChange:function(e){return x(e.target.value,"url")},value:r.url}))),"created"!==s&&O(p.a,{gutter:[8,16]},O(d.a,{xs:4},"\u521b\u5efa\u65f6\u95f4"),O(d.a,{xs:24,sm:14,flex:1},O(g.a,{value:f.a.timeformat(r.created),disabled:!0}))),"created"!==s&&O(p.a,{gutter:[8,16]},O(d.a,{xs:4},"\u4fee\u6539\u65f6\u95f4"),O(d.a,{xs:24,sm:14},O(g.a,{value:f.a.timeformat(r.updated?r.updated:r.created),disabled:!0}))))}}},[["Yotb",0,1,2,4,3,5,7,10,8,12,14]]]);