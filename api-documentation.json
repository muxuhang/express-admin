{
  "openapi": "3.0.0",
  "info": {
    "title": "Express Admin API",
    "version": "1.0.0",
    "description": "Express Admin 系统API文档，提供完整的用户管理、角色权限、内容管理等功能"
  },
  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "开发环境"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "paths": {
    "/api/login": {
      "post": {
        "tags": [
          "认证"
        ],
        "summary": "用户登录",
        "description": "用户通过用户名/手机号和密码进行登录",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "username",
                  "password"
                ],
                "properties": {
                  "username": {
                    "type": "string",
                    "description": "用户名或手机号"
                  },
                  "password": {
                    "type": "string",
                    "description": "密码"
                  }
                }
              },
              "example": {
                "username": "admin",
                "password": "123456"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "登录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 0
                    },
                    "message": {
                      "type": "string",
                      "example": "登录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": {
                          "type": "string",
                          "description": "JWT令牌"
                        },
                        "user": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "username": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            },
                            "phone": {
                              "type": "string"
                            },
                            "role": {
                              "type": "string"
                            },
                            "status": {
                              "type": "string"
                            },
                            "lastLoginAt": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "登录失败",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/register": {
      "post": {
        "tags": [
          "认证"
        ],
        "summary": "用户注册",
        "description": "新用户注册",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "username",
                  "password",
                  "email"
                ],
                "properties": {
                  "username": {
                    "type": "string",
                    "description": "用户名"
                  },
                  "password": {
                    "type": "string",
                    "description": "密码"
                  },
                  "email": {
                    "type": "string",
                    "description": "邮箱"
                  },
                  "phone": {
                    "type": "string",
                    "description": "手机号（可选）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "注册成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/users": {
      "get": {
        "tags": [
          "用户管理"
        ],
        "summary": "获取用户列表",
        "description": "获取用户列表，支持分页和搜索",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "description": "搜索关键词（用户名、邮箱、手机号）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "用户状态",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        },
                        "list": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "用户管理"
        ],
        "summary": "创建新用户",
        "description": "创建新用户",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "username",
                  "password",
                  "email"
                ],
                "properties": {
                  "username": {
                    "type": "string",
                    "description": "用户名"
                  },
                  "password": {
                    "type": "string",
                    "description": "密码"
                  },
                  "email": {
                    "type": "string",
                    "description": "邮箱"
                  },
                  "phone": {
                    "type": "string",
                    "description": "手机号（可选）"
                  },
                  "role": {
                    "type": "string",
                    "description": "用户角色"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "default": "active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{id}": {
      "get": {
        "tags": [
          "用户管理"
        ],
        "summary": "获取用户详情",
        "description": "根据用户ID获取用户详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "用户ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "用户管理"
        ],
        "summary": "更新用户信息",
        "description": "更新用户信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "用户ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "string"
                  },
                  "role": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "用户管理"
        ],
        "summary": "删除用户",
        "description": "删除指定用户",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "用户ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/roles": {
      "get": {
        "tags": [
          "角色管理"
        ],
        "summary": "获取角色列表",
        "description": "获取角色列表，支持分页和搜索",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "description": "搜索关键词（角色名称、编码）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "角色状态",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        },
                        "list": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "角色管理"
        ],
        "summary": "创建新角色",
        "description": "创建新角色",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "code"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "角色名称"
                  },
                  "code": {
                    "type": "string",
                    "description": "角色编码"
                  },
                  "description": {
                    "type": "string",
                    "description": "角色描述"
                  },
                  "permissions": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "权限列表"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "default": "active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/articles": {
      "get": {
        "tags": [
          "文章管理"
        ],
        "summary": "获取文章列表",
        "description": "获取文章列表，支持分页和搜索",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "description": "搜索关键词（标题、内容、摘要）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "文章状态",
            "schema": {
              "type": "string",
              "enum": [
                "draft",
                "published",
                "offline",
                "pending"
              ]
            }
          },
          {
            "name": "category",
            "in": "query",
            "description": "文章分类",
            "schema": {
              "type": "string",
              "enum": [
                "article",
                "news",
                "announcement",
                "tutorial"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        },
                        "list": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "文章管理"
        ],
        "summary": "创建新文章",
        "description": "创建新文章",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "content"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "文章标题"
                  },
                  "content": {
                    "type": "string",
                    "description": "文章内容"
                  },
                  "summary": {
                    "type": "string",
                    "description": "文章摘要"
                  },
                  "category": {
                    "type": "string",
                    "enum": [
                      "article",
                      "news",
                      "announcement",
                      "tutorial"
                    ],
                    "default": "article"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "文章标签"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "published",
                      "offline",
                      "pending"
                    ],
                    "default": "draft"
                  },
                  "featured": {
                    "type": "boolean",
                    "default": false
                  },
                  "coverImage": {
                    "type": "string",
                    "description": "封面图片URL"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/articles/{id}": {
      "get": {
        "tags": [
          "文章管理"
        ],
        "summary": "获取文章详情",
        "description": "根据文章ID获取文章详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "文章ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "文章管理"
        ],
        "summary": "更新文章",
        "description": "更新文章信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "文章ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "content"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "文章标题"
                  },
                  "content": {
                    "type": "string",
                    "description": "文章内容"
                  },
                  "summary": {
                    "type": "string",
                    "description": "文章摘要"
                  },
                  "category": {
                    "type": "string",
                    "enum": [
                      "article",
                      "news",
                      "announcement",
                      "tutorial"
                    ]
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "文章标签"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "published",
                      "offline",
                      "pending"
                    ]
                  },
                  "featured": {
                    "type": "boolean"
                  },
                  "coverImage": {
                    "type": "string",
                    "description": "封面图片URL"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "文章管理"
        ],
        "summary": "删除文章",
        "description": "删除指定文章",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "文章ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/chat/send": {
      "post": {
        "tags": [
          "聊天"
        ],
        "summary": "发送聊天消息",
        "description": "发送聊天消息到AI服务",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "message"
                ],
                "properties": {
                  "message": {
                    "type": "string",
                    "description": "消息内容",
                    "minLength": 1,
                    "maxLength": 1000
                  },
                  "userId": {
                    "type": "string",
                    "description": "用户ID（可选）"
                  },
                  "service": {
                    "type": "string",
                    "enum": [
                      "openrouter",
                      "auto"
                    ],
                    "description": "服务类型（可选）"
                  },
                  "model": {
                    "type": "string",
                    "description": "模型名称（可选）"
                  },
                  "sessionId": {
                    "type": "string",
                    "description": "会话ID（可选）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "发送成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "response": {
                          "type": "string",
                          "description": "AI回复内容"
                        },
                        "sessionId": {
                          "type": "string",
                          "description": "会话ID"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/chat/history": {
      "get": {
        "tags": [
          "聊天"
        ],
        "summary": "获取聊天历史",
        "description": "获取聊天历史记录",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "sessionId",
            "in": "query",
            "description": "会话ID（可选）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "获取数量",
            "schema": {
              "type": "integer",
              "default": 50
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/login-logs": {
      "get": {
        "tags": [
          "认证"
        ],
        "summary": "获取登录日志",
        "description": "获取用户登录日志列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "username",
            "in": "query",
            "description": "用户名（可选）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "开始日期（可选）",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "结束日期（可选）",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "登录状态（可选）",
            "schema": {
              "type": "string",
              "enum": [
                "success",
                "failed"
              ]
            }
          },
          {
            "name": "loginSource",
            "in": "query",
            "description": "登录来源（可选）",
            "schema": {
              "type": "string",
              "enum": [
                "pc",
                "h5"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        },
                        "list": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/pusher/push": {
      "post": {
        "tags": ["推送管理"],
        "summary": "创建推送任务（立即/定时/循环）",
        "description": "统一推送接口，支持立即推送、定时推送、循环推送。",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {"type": "string", "description": "推送标题"},
                  "content": {"type": "string", "description": "推送内容"},
                  "description": {"type": "string", "description": "推送描述"},
                  "type": {"type": "string", "enum": ["notification", "message", "announcement"], "default": "notification"},
                  "channel": {"type": "string", "description": "频道名称"},
                  "event": {"type": "string", "description": "事件名称", "default": "notification"},
                  "pushMode": {"type": "string", "enum": ["immediate", "scheduled", "recurring"], "description": "推送方式"},
                  "scheduledTime": {"type": "string", "format": "date-time", "description": "定时推送时间"},
                  "recurringConfig": {
                    "type": "object",
                    "properties": {
                      "type": {"type": "string", "enum": ["interval", "daily"]},
                      "interval": {"type": "integer"},
                      "intervalUnit": {"type": "string", "enum": ["minutes", "hours", "days"]},
                      "dailyTime": {"type": "string", "description": "每日推送时间（HH:mm）"},
                      "maxExecutions": {"type": "integer"}
                    }
                  },
                  "targetType": {"type": "string", "enum": ["all", "specific", "role"]},
                  "targetUserIds": {"type": "array", "items": {"type": "string"}},
                  "targetRoleIds": {"type": "array", "items": {"type": "string"}},
                  "notifyOnSuccess": {"type": "boolean"},
                  "successNotificationTitle": {"type": "string"},
                  "successNotificationContent": {"type": "string"}
                },
                "required": ["title", "content", "pushMode", "targetType"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "推送任务创建结果",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {"type": "integer"},
                    "data": {"type": "object"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/pusher/tasks": {
      "get": {
        "tags": ["推送管理"],
        "summary": "获取推送任务列表",
        "description": "获取所有类型的推送任务记录，支持过滤。",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {"name": "taskType", "in": "query", "schema": {"type": "string", "enum": ["immediate", "scheduled", "recurring"]}},
          {"name": "status", "in": "query", "schema": {"type": "string", "enum": ["active", "inactive"]}},
          {"name": "page", "in": "query", "schema": {"type": "integer", "default": 1}},
          {"name": "limit", "in": "query", "schema": {"type": "integer", "default": 10}}
        ],
        "responses": {
          "200": {
            "description": "推送任务列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {"type": "integer"},
                    "data": {"type": "object"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/pusher/targets": {
      "get": {
        "tags": ["推送管理"],
        "summary": "获取推送目标选项",
        "description": "获取可用的用户列表和角色列表。",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "推送目标选项",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {"type": "integer"},
                    "data": {"type": "object"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/pusher/history": {
      "get": {
        "tags": ["推送管理"],
        "summary": "获取推送历史",
        "description": "获取推送历史记录，支持分页。",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {"name": "page", "in": "query", "schema": {"type": "integer", "default": 1}},
          {"name": "limit", "in": "query", "schema": {"type": "integer", "default": 20}},
          {"name": "pushMode", "in": "query", "schema": {"type": "string", "enum": ["immediate", "scheduled", "recurring"]}}
        ],
        "responses": {
          "200": {
            "description": "推送历史列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {"type": "integer"},
                    "data": {"type": "object"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/menus": {
      "get": {
        "tags": ["菜单管理"],
        "summary": "获取菜单列表",
        "description": "获取菜单列表，支持分页、搜索和状态筛选。",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {"name": "keyword", "in": "query", "schema": {"type": "string"}},
          {"name": "status", "in": "query", "schema": {"type": "string", "enum": ["active", "inactive"]}},
          {"name": "page", "in": "query", "schema": {"type": "integer", "default": 1}},
          {"name": "limit", "in": "query", "schema": {"type": "integer", "default": 10}}
        ],
        "responses": {
          "200": {
            "description": "菜单列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {"type": "integer"},
                    "message": {"type": "string"},
                    "data": {"type": "object"}
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["菜单管理"],
        "summary": "创建菜单",
        "description": "创建新菜单项。",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "label": {"type": "string", "description": "菜单名称"},
                  "path": {"type": "string", "description": "菜单路径"},
                  "parentId": {"type": "string", "description": "父菜单ID，可为空"},
                  "order": {"type": "integer", "description": "排序"},
                  "icon": {"type": "string", "description": "图标名称"},
                  "status": {"type": "string", "enum": ["active", "inactive"], "default": "active"}
                },
                "required": ["label", "path"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {"type": "integer"},
                    "message": {"type": "string"},
                    "data": {"type": "object"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/menus-tree": {
      "get": {
        "tags": ["菜单管理"],
        "summary": "获取菜单树",
        "description": "获取树形结构的菜单列表。",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {"name": "status", "in": "query", "schema": {"type": "string", "enum": ["active", "inactive", "all"]}}
        ],
        "responses": {
          "200": {
            "description": "菜单树",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {"type": "integer"},
                    "message": {"type": "string"},
                    "data": {"type": "array", "items": {"type": "object"}}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/menus-all": {
      "get": {
        "tags": ["菜单管理"],
        "summary": "获取所有菜单树（管理用）",
        "description": "获取所有菜单的树形结构，包括禁用状态。",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "所有菜单树",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {"type": "integer"},
                    "message": {"type": "string"},
                    "data": {"type": "array", "items": {"type": "object"}}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/menus/{id}": {
      "get": {
        "tags": ["菜单管理"],
        "summary": "获取菜单详情",
        "description": "根据菜单ID获取菜单详细信息。",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "string"}}
        ],
        "responses": {
          "200": {
            "description": "菜单详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {"type": "integer"},
                    "message": {"type": "string"},
                    "data": {"type": "object"}
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["菜单管理"],
        "summary": "更新菜单",
        "description": "更新菜单信息。",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "string"}}
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "label": {"type": "string"},
                  "path": {"type": "string"},
                  "parentId": {"type": "string"},
                  "order": {"type": "integer"},
                  "icon": {"type": "string"},
                  "status": {"type": "string", "enum": ["active", "inactive"]}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {"type": "integer"},
                    "message": {"type": "string"},
                    "data": {"type": "object"}
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["菜单管理"],
        "summary": "删除菜单",
        "description": "删除指定菜单项。",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "string"}}
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {"type": "integer"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/menusInit": {
      "post": {
        "tags": ["菜单管理"],
        "summary": "初始化默认菜单",
        "description": "重新初始化系统默认菜单，仅管理员可用。",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "初始化成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {"type": "integer"},
                    "message": {"type": "string"},
                    "data": {"type": "array", "items": {"type": "object"}}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/menus-order": {
      "put": {
        "tags": ["菜单管理"],
        "summary": "批量更新菜单排序",
        "description": "批量更新菜单的排序。",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "menuOrders": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {"type": "string"},
                        "order": {"type": "integer"}
                      },
                      "required": ["id", "order"]
                    }
                  },
                  "parentId": {"type": "string"}
                },
                "required": ["menuOrders"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "排序更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {"type": "integer"},
                    "message": {"type": "string"},
                    "data": {"type": "array", "items": {"type": "object"}}
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "认证",
      "description": "用户登录、注册、验证码等认证相关接口"
    },
    {
      "name": "用户管理",
      "description": "用户信息的增删改查操作"
    },
    {
      "name": "角色管理",
      "description": "角色信息的增删改查操作"
    },
    {
      "name": "文章管理",
      "description": "文章内容的增删改查操作"
    },
    {
      "name": "聊天",
      "description": "AI聊天相关接口"
    },
    {
      "name": "推送管理",
      "description": "推送任务的创建、查询、历史记录等操作"
    },
    {
      "name": "菜单管理",
      "description": "菜单信息的增删改查操作"
    }
  ]
}